<!DOCTYPE html>
<html>
<title>wumbo</title>
<link rel="icon" href="data:,">

<body>
    
    <input id="run" type="button" value="run" />
    <br />
    <textarea id="code" name="code" rows="4" cols="50"></textarea>

    <div id="result"></div>
    <hr />
    <div id="ouput"></div>
    <hr />
    <div id="error"></div>

</body>

<script>
    const result = document.getElementById("result");
    const error = document.getElementById("error");
    const ouput = document.getElementById("ouput");
    const run = document.getElementById("run");
    const code = document.getElementById("code");

    // py -m http.server
    //py -m webbrowser -t "http://localhost:8000"; py -m http.server;
</script>
<script type="module">
    import { newInstance } from "./load.mjs";
    const load = await newInstance({
        print: {
            string: (arg) =>{
                arg = new TextDecoder().decode(arg);
                console.log(arg);
                ouput.innerHTML += arg + "<br />";
            },
        },
    });
    run.onclick = async () =>{
        const f = await load(code.value);
        f();
    };
</script>

</html>
